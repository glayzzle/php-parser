// eslint-disable prettier/prettier
const parser = require("../main");

describe("php-src tests", function () {
  // Zend/tests/numeric_strings/invalid_numeric_strings_must_generate_warning.phpt
  it("Invalid numeric string TypeErrors and E_WARNINGs", function () {
    expect(parser.parseCode("<?php\nvar_dump(\"2 Lorem\" + \"3 ipsum\");\ntry {\n    var_dump(\"dolor\" + \"sit\");\n} catch (\\TypeError $e) {\n    echo $e->getMessage() . \\PHP_EOL;\n}\necho \"---\", PHP_EOL;\nvar_dump(\"5 amet,\" - \"7 consectetur\");\ntry {\n    var_dump(\"adipiscing\" - \"elit,\");\n} catch (\\TypeError $e) {\n    echo $e->getMessage() . \\PHP_EOL;\n}\necho \"---\", PHP_EOL;\nvar_dump(\"11 sed\" * \"13 do\");\ntry {\n    var_dump(\"eiusmod\" * \"tempor\");\n} catch (\\TypeError $e) {\n    echo $e->getMessage() . \\PHP_EOL;\n}\necho \"---\", PHP_EOL;\nvar_dump(\"17 incididunt\" / \"19 ut\");\ntry {\n    var_dump(\"labore\" / \"et\");\n} catch (\\TypeError $e) {\n    echo $e->getMessage() . \\PHP_EOL;\n}\necho \"---\", PHP_EOL;\nvar_dump(\"23 dolore\" ** \"29 magna\");\ntry {\n    var_dump(\"aliqua.\" ** \"Ut\");\n} catch (\\TypeError $e) {\n    echo $e->getMessage() . \\PHP_EOL;\n}\necho \"---\", PHP_EOL;\nvar_dump(\"31 enim\" % \"37 ad\");\ntry {\n    var_dump(\"minim\" % \"veniam,\");\n} catch (\\TypeError $e) {\n    echo get_class($e) . ': ' . $e->getMessage() . \\PHP_EOL;\n}\necho \"---\", PHP_EOL;\nvar_dump(\"41 minim\" << \"43 veniam,\");\ntry {\n    var_dump(\"quis\" << \"nostrud\");\n} catch (\\TypeError $e) {\n    echo $e->getMessage() . \\PHP_EOL;\n}\necho \"---\", PHP_EOL;\nvar_dump(\"47 exercitation\" >> \"53 ullamco\");\ntry {\n    var_dump(\"laboris\" >> \"nisi\");\n} catch (\\TypeError $e) {\n    echo $e->getMessage() . \\PHP_EOL;\n}\necho \"---\", PHP_EOL;\nvar_dump(\"59 ut\" | 61);\nvar_dump(67 | \"71 aliquip\");\ntry {\n    var_dump(\"ex\" | 73);\n} catch (\\TypeError $e) {\n    echo $e->getMessage() . \\PHP_EOL;\n}\ntry {\n    var_dump(79 | \"ea\");\n} catch (\\TypeError $e) {\n    echo $e->getMessage() . \\PHP_EOL;\n}\necho \"---\", PHP_EOL;\nvar_dump(\"83 commodo\" & 89);\nvar_dump(97 & \"101 consequat.\");\ntry {\n    var_dump(\"Duis\" & 103);\n} catch (\\TypeError $e) {\n    echo $e->getMessage() . \\PHP_EOL;\n}\ntry {\n    var_dump(107 & \"aute\");\n} catch (\\TypeError $e) {\n    echo $e->getMessage() . \\PHP_EOL;\n}\necho \"---\", PHP_EOL;\nvar_dump(\"109 irure\" ^ 113);\nvar_dump(127 ^ \"131 dolor\");\ntry {\n    var_dump(\"in\" ^ 137);\n} catch (\\TypeError $e) {\n    echo $e->getMessage() . \\PHP_EOL;\n}\ntry {\n    var_dump(139 ^ \"reprehenderit\");\n} catch (\\TypeError $e) {\n    echo $e->getMessage() . \\PHP_EOL;\n}\necho \"---\", PHP_EOL;\nvar_dump(+\"149 in\");\ntry {\n    var_dump(+\"voluptate\");\n} catch (\\TypeError $e) {\n    echo $e->getMessage() . \\PHP_EOL;\n}\necho \"---\", PHP_EOL;\nvar_dump(-\"151 velit\");\ntry {\n    var_dump(-\"esse\");\n} catch (\\TypeError $e) {\n    echo $e->getMessage() . \\PHP_EOL;\n}\n?>")).toMatchSnapshot();
  });
});
