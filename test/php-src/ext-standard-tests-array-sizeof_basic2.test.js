// eslint-disable prettier/prettier
const parser = require("../main");

describe("php-src tests", function () {
  // ext/standard/tests/array/sizeof_basic2.phpt
  it("Test sizeof() function : basic functionality - for non-scalar type(array)", function () {
    expect(parser.parseCode("<?php\n/* Testing the sizeof() for non-scalar type(array) value\n * in default, COUNT_NORMAL and COUNT_RECURSIVE modes.\n * Sizeof() has been tested for simple integer, string,\n * indexed and mixed arrays.\n */\necho \"*** Testing sizeof() : basic functionality ***\\n\";\n$int_array = array(1, 2, 3, 4);\n$string_array = array(\"Saffron\", \"White\", \"Green\");\n$indexed_array = array(\"Aggression\" => \"Saffron\", \"Peace\" => \"White\", \"Growth\" => \"Green\");\n$mixed_array = array(1, 2, \"Aggression\" => \"Saffron\", 10 => \"Ten\", \"Ten\" => 10);\necho \"-- Testing sizeof() with integer array in default, COUNT_NORMAL, COUNT_RECURSIVE modes --\\n\";\necho \"default mode: \";\nvar_dump( sizeof($int_array) );\necho \"\\n\";\necho \"COUNT_NORMAL mode: \";\nvar_dump( sizeof($int_array, COUNT_NORMAL) );\necho \"\\n\";\necho \"COUNT_RECURSIVE mode: \";\nvar_dump( sizeof($int_array, COUNT_RECURSIVE) );\necho \"\\n\";\necho \"-- Testing sizeof() with string array in default, COUNT_NORMAL, COUNT_RECURSIVE modes --\\n\";\necho \"default mode: \";\nvar_dump( sizeof($string_array) );\necho \"\\n\";\necho \"COUNT_NORMAL mode: \";\nvar_dump( sizeof($string_array, COUNT_NORMAL) );\necho \"\\n\";\necho \"COUNT_RECURSIVE mode: \";\nvar_dump( sizeof($string_array, COUNT_RECURSIVE) );\necho \"\\n\";\necho \"-- Testing sizeof() with indexed array in default, COUNT_NORMAL, COUNT_RECURSIVE modes --\\n\";\necho \"default mode: \";\nvar_dump( sizeof($indexed_array) );\necho \"\\n\";\necho \"COUNT_NORMAL mode: \";\nvar_dump( sizeof($indexed_array, COUNT_NORMAL) );\necho \"\\n\";\necho \"COUNT_RECURSIVE mode: \";\nvar_dump( sizeof($indexed_array, COUNT_RECURSIVE) );\necho \"\\n\";\necho \"-- Testing sizeof() with mixed array in default, COUNT_NORMAL, COUNT_RECURSIVE modes --\\n\";\necho \"default mode: \";\nvar_dump( sizeof($mixed_array) );\necho \"\\n\";\necho \"COUNT_NORMAL mode: \";\nvar_dump( sizeof($mixed_array, COUNT_NORMAL) );\necho \"\\n\";\necho \"COUNT_RECURSIVE mode: \";\nvar_dump( sizeof($mixed_array, COUNT_RECURSIVE) );\necho \"Done\";\n?>")).toMatchSnapshot();
  });
});
