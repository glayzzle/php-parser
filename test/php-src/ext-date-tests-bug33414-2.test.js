// eslint-disable prettier/prettier
const parser = require("../main");

describe("php-src tests", function () {
  // ext/date/tests/bug33414-2.phpt
  it("Bug #33414 [2] (Comprehensive list of incorrect days returned after strotime() / date() tests)", function () {
    expect(parser.parseCode("<?php\nprint \"TZ=Pacific/Rarotonga - wrong day.\\n\";\ndate_default_timezone_set(\"Pacific/Rarotonga\");\n$tStamp = mktime (17, 17, 17, 1, 1, 1970);\nprint \"tStamp=\". date(\"l Y-m-d H:i:s T I\", $tStamp). \"\\n\";\n$strtotime_tstamp = strtotime(\"next Tuesday\", $tStamp);\nprint \"result=\".date(\"l Y-m-d H:i:s T I\", $strtotime_tstamp).\"\\n\";\nprint \"wanted=Tuesday            00:00:00\\n\\n\";\nprint \"TZ=Atlantic/South_Georgia - wrong day.\\n\";\ndate_default_timezone_set(\"Atlantic/South_Georgia\");\n$tStamp = mktime (17, 17, 17, 1, 1, 1970);\nprint \"tStamp=\". date(\"l Y-m-d H:i:s T I\", $tStamp). \"\\n\";\n$strtotime_tstamp = strtotime(\"next Tuesday\", $tStamp);\nprint \"result=\".date(\"l Y-m-d H:i:s T I\", $strtotime_tstamp).\"\\n\";\nprint \"wanted=Tuesday            00:00:00\\n\\n\";\nprint \"TZ=America/Port-au-Prince - wrong day.\\n\";\ndate_default_timezone_set(\"America/Port-au-Prince\");\n$tStamp = mktime (17, 17, 17, 1, 12871, 1970);\nprint \"tStamp=\". date(\"l Y-m-d H:i:s T I\", $tStamp). \"\\n\";\n$strtotime_tstamp = strtotime(\"next Monday\", $tStamp);\nprint \"result=\".date(\"l Y-m-d H:i:s T I\", $strtotime_tstamp).\"\\n\";\nprint \"wanted=Monday            00:00:00\\n\\n\";\nprint \"TZ=Pacific/Enderbury - wrong day, off by 2 days.\\n\";\ndate_default_timezone_set(\"Pacific/Enderbury\");\n$tStamp = mktime (17, 17, 17, 1, 1, 1970);\nprint \"tStamp=\". date(\"l Y-m-d H:i:s T I\", $tStamp). \"\\n\";\n$strtotime_tstamp = strtotime(\"next Monday\", $tStamp);\nprint \"result=\".date(\"l Y-m-d H:i:s T I\", $strtotime_tstamp).\"\\n\";\nprint \"wanted=Monday            00:00:00\\n\\n\";\nprint \"TZ=Pacific/Kiritimati - wrong day, off by 2 days.\\n\";\ndate_default_timezone_set(\"Pacific/Kiritimati\");\n$tStamp = mktime (17, 17, 17, 1, 1, 1970);\nprint \"tStamp=\". date(\"l Y-m-d H:i:s T I\", $tStamp). \"\\n\";\n$strtotime_tstamp = strtotime(\"next Monday\", $tStamp);\nprint \"result=\".date(\"l Y-m-d H:i:s T I\", $strtotime_tstamp).\"\\n\";\nprint \"wanted=Monday            00:00:00\\n\\n\";\nprint \"TZ=America/Managua - wrong day.\\n\";\ndate_default_timezone_set(\"America/Managua\");\n$tStamp = mktime (17, 17, 17, 1, 12879, 1970);\nprint \"tStamp=\". date(\"l Y-m-d H:i:s T I\", $tStamp). \"\\n\";\n$strtotime_tstamp = strtotime(\"next Tuesday\", $tStamp);\nprint \"result=\".date(\"l Y-m-d H:i:s T I\", $strtotime_tstamp).\"\\n\";\nprint \"wanted=Tuesday            00:00:00\\n\\n\";\nprint \"TZ=Pacific/Pitcairn - wrong day.\\n\";\ndate_default_timezone_set(\"Pacific/Pitcairn\");\n$tStamp = mktime (17, 17, 17, 1, 1, 1970);\nprint \"tStamp=\". date(\"l Y-m-d H:i:s T I\", $tStamp). \"\\n\";\n$strtotime_tstamp = strtotime(\"next Wednesday\", $tStamp);\nprint \"result=\".date(\"l Y-m-d H:i:s T I\", $strtotime_tstamp).\"\\n\";\nprint \"wanted=Wednesday            00:00:00\\n\\n\";\nprint \"TZ=Pacific/Fakaofo - wrong day.\\n\";\ndate_default_timezone_set(\"Pacific/Fakaofo\");\n$tStamp = mktime (17, 17, 17, 1, 1, 1970);\nprint \"tStamp=\". date(\"l Y-m-d H:i:s T I\", $tStamp). \"\\n\";\n$strtotime_tstamp = strtotime(\"next Saturday\", $tStamp);\nprint \"result=\".date(\"l Y-m-d H:i:s T I\", $strtotime_tstamp).\"\\n\";\nprint \"wanted=Saturday            00:00:00\\n\\n\";\nprint \"TZ=Pacific/Johnston - wrong day.\\n\";\ndate_default_timezone_set(\"Pacific/Johnston\");\n$tStamp = mktime (17, 17, 17, 1, 1, 1970);\nprint \"tStamp=\". date(\"l Y-m-d H:i:s T I\", $tStamp). \"\\n\";\n$strtotime_tstamp = strtotime(\"next Friday\", $tStamp);\nprint \"result=\".date(\"l Y-m-d H:i:s T I\", $strtotime_tstamp).\"\\n\";\nprint \"wanted=Friday            00:00:00\\n\\n\";\n?>")).toMatchSnapshot();
  });
});
