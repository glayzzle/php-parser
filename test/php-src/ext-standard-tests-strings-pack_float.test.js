// eslint-disable prettier/prettier
const parser = require("../main");

describe("php-src tests", function () {
  // ext/standard/tests/strings/pack_float.phpt
  it("pack()/unpack(): float/double tests", function () {
    expect(parser.parseCode("<?php\nvar_dump(\n    'pack e',\n    bin2hex(pack(\"e\", \"\")),\n    bin2hex(pack(\"e\", \"a\")),\n    bin2hex(pack(\"e\", \" \")),\n    bin2hex(pack(\"e\", NULL)),\n    bin2hex(pack(\"e\", 0)),\n    bin2hex(pack(\"e\", 1)),\n    bin2hex(pack(\"e\", 1.0)),\n    bin2hex(pack(\"e\", 10000000000000000)),\n    bin2hex(pack(\"e\", 0.591234709823149)),\n    bin2hex(pack(\"e\", 12345678901234567890.1234567898765432123456789)),\n    bin2hex(pack(\"e\", -1)),\n    bin2hex(pack(\"e\", -1.0)),\n    bin2hex(pack(\"e\", -10000000000000000)),\n    bin2hex(pack(\"e\", -0.591234709823149)),\n    bin2hex(pack(\"e\", -12345678901234567890.1234567898765432123456789)),\n    'pack E',\n    bin2hex(pack(\"E\", \"\")),\n    bin2hex(pack(\"E\", \"a\")),\n    bin2hex(pack(\"E\", \" \")),\n    bin2hex(pack(\"E\", NULL)),\n    bin2hex(pack(\"E\", 0)),\n    bin2hex(pack(\"E\", 1)),\n    bin2hex(pack(\"E\", 1.0)),\n    bin2hex(pack(\"E\", 10000000000000000)),\n    bin2hex(pack(\"E\", 0.591234709823149)),\n    bin2hex(pack(\"E\", 12345678901234567890.1234567898765432123456789)),\n    bin2hex(pack(\"E\", -1)),\n    bin2hex(pack(\"E\", -1.0)),\n    bin2hex(pack(\"E\", -10000000000000000)),\n    bin2hex(pack(\"E\", -0.591234709823149)),\n    bin2hex(pack(\"E\", -12345678901234567890.1234567898765432123456789)),\n    'pack g',\n    bin2hex(pack(\"g\", \"\")),\n    bin2hex(pack(\"g\", \"a\")),\n    bin2hex(pack(\"g\", \" \")),\n    bin2hex(pack(\"g\", NULL)),\n    bin2hex(pack(\"g\", 0)),\n    bin2hex(pack(\"g\", 1)),\n    bin2hex(pack(\"g\", 1.0)),\n    bin2hex(pack(\"g\", 10000000000000000)),\n    bin2hex(pack(\"g\", 0.591234709823149)),\n    bin2hex(pack(\"g\", 12345678901234567890.1234567898765432123456789)),\n    bin2hex(pack(\"g\", -1)),\n    bin2hex(pack(\"g\", -1.0)),\n    bin2hex(pack(\"g\", -10000000000000000)),\n    bin2hex(pack(\"g\", -0.591234709823149)),\n    bin2hex(pack(\"g\", -12345678901234567890.1234567898765432123456789)),\n    'pack G',\n    bin2hex(pack(\"G\", \"\")),\n    bin2hex(pack(\"G\", \"a\")),\n    bin2hex(pack(\"G\", \" \")),\n    bin2hex(pack(\"G\", NULL)),\n    bin2hex(pack(\"G\", 0)),\n    bin2hex(pack(\"G\", 1)),\n    bin2hex(pack(\"G\", 1.0)),\n    bin2hex(pack(\"G\", 10000000000000000)),\n    bin2hex(pack(\"G\", 0.591234709823149)),\n    bin2hex(pack(\"G\", 12345678901234567890.1234567898765432123456789)),\n    bin2hex(pack(\"G\", -1)),\n    bin2hex(pack(\"G\", -1.0)),\n    bin2hex(pack(\"G\", -10000000000000000)),\n    bin2hex(pack(\"G\", -0.591234709823149)),\n    bin2hex(pack(\"G\", -12345678901234567890.1234567898765432123456789)),\n    'unpack e',\n    unpack('e', hex2bin('0000000000000000')),\n    unpack('e', hex2bin('000000000000f03f')),\n    unpack('e', hex2bin('0080e03779c34143')),\n    unpack('e', hex2bin('4a6ade0d65ebe23f')),\n    unpack('e', hex2bin('000000000000f0bf')),\n    unpack('e', hex2bin('0080e03779c341c3')),\n    unpack('e', hex2bin('4a6ade0d65ebe2bf')),\n    unpack('e', hex2bin('e1639d31956ae5c3')),\n    'unpack E',\n    unpack('E', hex2bin('3ff0000000000000')),\n    unpack('E', hex2bin('4341c37937e08000')),\n    unpack('E', hex2bin('3fe2eb650dde6a4a')),\n    unpack('E', hex2bin('43e56a95319d63e1')),\n    unpack('E', hex2bin('bff0000000000000')),\n    unpack('E', hex2bin('c341c37937e08000')),\n    unpack('E', hex2bin('bfe2eb650dde6a4a')),\n    unpack('E', hex2bin('c3e56a95319d63e1')),\n    'unpack g',\n    unpack('g', hex2bin('0000803f')),\n    unpack('g', hex2bin('ca1b0e5a')),\n    unpack('g', hex2bin('285b173f')),\n    unpack('g', hex2bin('aa542b5f')),\n    unpack('g', hex2bin('000080bf')),\n    unpack('g', hex2bin('ca1b0eda')),\n    unpack('g', hex2bin('285b17bf')),\n    unpack('g', hex2bin('aa542bdf')),\n    'unpack G',\n    unpack('G', hex2bin('3f800000')),\n    unpack('G', hex2bin('5a0e1bca')),\n    unpack('G', hex2bin('3f175b28')),\n    unpack('G', hex2bin('5f2b54aa')),\n    unpack('G', hex2bin('bf800000')),\n    unpack('G', hex2bin('da0e1bca')),\n    unpack('G', hex2bin('bf175b28')),\n    unpack('G', hex2bin('df2b54aa'))\n);\n?>")).toMatchSnapshot();
  });
});
