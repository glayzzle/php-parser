// eslint-disable prettier/prettier
const parser = require("../main");

describe("php-src tests", function () {
  // ext/standard/tests/strings/pack.phpt
  it("Generic pack()/unpack() tests", function () {
    expect(parser.parseCode("<?php\nprint_r(unpack(\"A\", pack(\"A\", \"hello world\")));\nprint_r(unpack(\"A*\", pack(\"A*\", \"hello world\")));\necho '\"'.pack(\"A9\", \"hello\").'\"';\necho \"\\n\";\nprint_r(unpack(\"C\", pack(\"C\", -127)));\nprint_r(unpack(\"C\", pack(\"C\", 127)));\nprint_r(unpack(\"C\", pack(\"C\", 255)));\nprint_r(unpack(\"C\", pack(\"C\", -129)));\nprint_r(unpack(\"H\", pack(\"H\", 0x04)));\nprint_r(unpack(\"I\", pack(\"I\", 65534)));\nprint_r(unpack(\"I\", pack(\"I\", 0)));\nprint_r(unpack(\"I\", pack(\"I\", -1000)));\nprint_r(unpack(\"I\", pack(\"I\", -64434)));\nprint_r(unpack(\"I\", pack(\"I\", 4294967296)));\nprint_r(unpack(\"I\", pack(\"I\", -4294967296)));\nprint_r(unpack(\"L\", pack(\"L\", 65534)));\nprint_r(unpack(\"L\", pack(\"L\", 0)));\nprint_r(unpack(\"L\", pack(\"L\", 2147483650)));\nprint_r(unpack(\"L\", pack(\"L\", 4294967295)));\nprint_r(unpack(\"L\", pack(\"L\", -2147483648)));\nprint_r(unpack(\"N\", pack(\"N\", 65534)));\nprint_r(unpack(\"N\", pack(\"N\", 0)));\nprint_r(unpack(\"N\", pack(\"N\", 2147483650)));\nprint_r(unpack(\"N\", pack(\"N\", 4294967296)));\nprint_r(unpack(\"N\", pack(\"N\", -2147483648)));\nprint_r(unpack(\"N\", pack(\"N\", -30000)));\nprint_r(unpack(\"S\", pack(\"S\", 65534)));\nprint_r(unpack(\"S\", pack(\"S\", 65537)));\nprint_r(unpack(\"S\", pack(\"S\", 0)));\nprint_r(unpack(\"S\", pack(\"S\", -1000)));\nprint_r(unpack(\"S\", pack(\"S\", -64434)));\nprint_r(unpack(\"S\", pack(\"S\", -65535)));\nprint_r(unpack(\"V\", pack(\"V\", 65534)));\nprint_r(unpack(\"V\", pack(\"V\", 0)));\nprint_r(unpack(\"V\", pack(\"V\", 2147483650)));\nprint_r(unpack(\"V\", pack(\"V\", 4294967296)));\nprint_r(unpack(\"V\", pack(\"V\", -2147483648)));\nprint_r(unpack(\"a\", pack(\"a\", \"hello world\")));\nprint_r(unpack(\"a*\", pack(\"a*\", \"hello world\")));\nprint_r(unpack(\"c\", pack(\"c\", -127)));\nprint_r(unpack(\"c\", pack(\"c\", 127)));\nprint_r(unpack(\"c\", pack(\"c\", 255)));\nprint_r(unpack(\"c\", pack(\"c\", -129)));\nprint_r(unpack(\"h\", pack(\"h\", 3000000)));\nprint_r(unpack(\"i\", pack(\"i\", 65534)));\nprint_r(unpack(\"i\", pack(\"i\", 0)));\nprint_r(unpack(\"i\", pack(\"i\", -1000)));\nprint_r(unpack(\"i\", pack(\"i\", -64434)));\nprint_r(unpack(\"i\", pack(\"i\", -65535)));\nprint_r(unpack(\"i\", pack(\"i\", -2147483647)));\nprint_r(unpack(\"l\", pack(\"l\", 65534)));\nprint_r(unpack(\"l\", pack(\"l\", 0)));\nprint_r(unpack(\"l\", pack(\"l\", 2147483650)));\nprint_r(unpack(\"l\", pack(\"l\", 4294967296)));\nprint_r(unpack(\"l\", pack(\"l\", -2147483648)));\nprint_r(unpack(\"n\", pack(\"n\", 65534)));\nprint_r(unpack(\"n\", pack(\"n\", 65537)));\nprint_r(unpack(\"n\", pack(\"n\", 0)));\nprint_r(unpack(\"n\", pack(\"n\", -1000)));\nprint_r(unpack(\"n\", pack(\"n\", -64434)));\nprint_r(unpack(\"n\", pack(\"n\", -65535)));\nprint_r(unpack(\"s\", pack(\"s\", 32767)));\nprint_r(unpack(\"s\", pack(\"s\", 65535)));\nprint_r(unpack(\"s\", pack(\"s\", 0)));\nprint_r(unpack(\"s\", pack(\"s\", -1000)));\nprint_r(unpack(\"s\", pack(\"s\", -64434)));\nprint_r(unpack(\"s\", pack(\"s\", -65535)));\nprint_r(unpack(\"v\", pack(\"v\", 65534)));\nprint_r(unpack(\"v\", pack(\"v\", 65537)));\nprint_r(unpack(\"v\", pack(\"v\", 0)));\nprint_r(unpack(\"v\", pack(\"v\", -1000)));\nprint_r(unpack(\"v\", pack(\"v\", -64434)));\nprint_r(unpack(\"v\", pack(\"v\", -65535)));\n?>")).toMatchSnapshot();
  });
});
