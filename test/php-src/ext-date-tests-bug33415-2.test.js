// eslint-disable prettier/prettier
const parser = require("../main");

describe("php-src tests", function () {
  // ext/date/tests/bug33415-2.phpt
  it("Bug #33415 [2] (Possibly invalid non-one-hour DST or timezone shifts)", function () {
    expect(parser.parseCode("<?php\ndate_default_timezone_set('Africa/Bujumbura');\nprint \"TZ=Africa/Bujumbura - *Note*: Unexpected, as does not appear to\nhave a DST or timezone transition.\\n\";\n$tStamp = mktime (17, 17, 17, 1, 1, 1970);\nprint \"tStamp=\". date(\"l Y-m-d H:i:s T I\", $tStamp). \"\\n\";\n$strtotime_tstamp = strtotime(\"next Wednesday\", $tStamp);\nprint \"result=\".date(\"l Y-m-d H:i:s T I\", $strtotime_tstamp).\"\\n\";\nprint \"wanted=Wednesday            00:00:00\\n\\n\";\nprint \"TZ=Asia/Thimbu - Is it OK for this to be 0:30 AM? yes\\n\";\ndate_default_timezone_set('Asia/Thimbu');\n$tStamp = mktime (17, 17, 17, 1, 6476, 1970);\nprint \"tStamp=\". date(\"l Y-m-d H:i:s T I\", $tStamp). \"\\n\";\n$strtotime_tstamp = strtotime(\"next Thursday\", $tStamp);\nprint \"result=\".date(\"l Y-m-d H:i:s T I\", $strtotime_tstamp).\"\\n\";\nprint \"wanted=Thursday            00:30:00\\n\\n\";\nprint \"TZ=Indian/Cocos - Is it OK for this to be 6:30 AM? Note: does not\nappear to have a DST or timezone transition.\\n\";\ndate_default_timezone_set('Indian/Cocos');\n$tStamp = mktime (17, 17, 17, 1, 1, 1970);\nprint \"tStamp=\". date(\"l Y-m-d H:i:s T I\", $tStamp). \"\\n\";\n$strtotime_tstamp = strtotime(\"next Thursday\", $tStamp);\nprint \"result=\".date(\"l Y-m-d H:i:s T I\", $strtotime_tstamp).\"\\n\";\nprint \"wanted=Thursday            00:00:00\\n\\n\";\nprint \"TZ=Africa/Lubumbashi - Is it OK for this to be 2 AM? Note: does\nnot appear to have a DST or timezone transition.\\n\";\ndate_default_timezone_set('Africa/Lubumbashi');\n$tStamp = mktime (17, 17, 17, 1, 1, 1970);\nprint \"tStamp=\". date(\"l Y-m-d H:i:s T I\", $tStamp). \"\\n\";\n$strtotime_tstamp = strtotime(\"next Saturday\", $tStamp);\nprint \"result=\".date(\"l Y-m-d H:i:s T I\", $strtotime_tstamp).\"\\n\";\nprint \"wanted=Saturday            00:00:00\\n\\n\";\nprint \"TZ=Asia/Kashgar - Is it OK for this to be 3 AM? yes\\n\";\ndate_default_timezone_set('Asia/Kashgar');\n$tStamp = mktime (17, 17, 17, 1, 3767, 1970);\nprint \"tStamp=\". date(\"l Y-m-d H:i:s T I\", $tStamp). \"\\n\";\n$strtotime_tstamp = strtotime(\"next Thursday\", $tStamp);\nprint \"result=\".date(\"l Y-m-d H:i:s T I\", $strtotime_tstamp).\"\\n\";\nprint \"wanted=Thursday            03:00:00\\n\\n\";\nprint \"TZ=Indian/Christmas - Is it OK for this to be 7 AM?  Note: does\nnot appear to have a DST or timezone transition.\\n\";\ndate_default_timezone_set('Indian/Christmas');\n$tStamp = mktime (17, 17, 17, 1, 1, 1970);\nprint \"tStamp=\". date(\"l Y-m-d H:i:s T I\", $tStamp). \"\\n\";\n$strtotime_tstamp = strtotime(\"next Sunday\", $tStamp);\nprint \"result=\".date(\"l Y-m-d H:i:s T I\", $strtotime_tstamp).\"\\n\";\nprint \"wanted=Sunday            00:00:00\\n\\n\";\nprint \"TZ=America/Santo_Domingo - Is it OK for this to be 0:30 AM? yes\\n\";\ndate_default_timezone_set('America/Santo_Domingo');\n$tStamp = mktime (17, 17, 17, 1, 291, 1970);\nprint \"tStamp=\". date(\"l Y-m-d H:i:s T I\", $tStamp). \"\\n\";\n$strtotime_tstamp = strtotime(\"next Sunday\", $tStamp);\nprint \"result=\".date(\"l Y-m-d H:i:s T I\", $strtotime_tstamp).\"\\n\";\nprint \"wanted=Sunday            00:30:00\\n\\n\";\nprint \"TZ=Pacific/Truk - Is it OK for this to be 10 AM?  Note: does not\nappear to have a DST or timezone transition.\\n\";\ndate_default_timezone_set('Pacific/Truk');\n$tStamp = mktime (17, 17, 17, 1, 1, 1970);\nprint \"tStamp=\". date(\"l Y-m-d H:i:s T I\", $tStamp). \"\\n\";\n$strtotime_tstamp = strtotime(\"next Tuesday\", $tStamp);\nprint \"result=\".date(\"l Y-m-d H:i:s T I\", $strtotime_tstamp).\"\\n\";\nprint \"wanted=Tuesday            00:00:00\\n\\n\";\nprint \"TZ=Pacific/Ponape - Is it OK for this to be 11 AM?  Note: does\nnot appear to have a DST or timezone transition.\\n\";\ndate_default_timezone_set('Pacific/Ponape');\n$tStamp = mktime (17, 17, 17, 1, 1, 1970);\nprint \"tStamp=\". date(\"l Y-m-d H:i:s T I\", $tStamp). \"\\n\";\n$strtotime_tstamp = strtotime(\"next Monday\", $tStamp);\nprint \"result=\".date(\"l Y-m-d H:i:s T I\", $strtotime_tstamp).\"\\n\";\nprint \"wanted=Monday            00:00:00\\n\\n\";\nprint \"TZ=America/Scoresbysund - Is it OK for this to be 2 AM? yes\\n\";\ndate_default_timezone_set('America/Scoresbysund');\n$tStamp = mktime (17, 17, 17, 1, 4099, 1970);\nprint \"tStamp=\". date(\"l Y-m-d H:i:s T I\", $tStamp). \"\\n\";\n$strtotime_tstamp = strtotime(\"next Sunday\", $tStamp);\nprint \"result=\".date(\"l Y-m-d H:i:s T I\", $strtotime_tstamp).\"\\n\";\nprint \"wanted=Sunday            02:00:00\\n\\n\";\nprint \"TZ=Asia/Tehran - Is it OK for this to be 0:30 AM? yes\\n\";\ndate_default_timezone_set('Asia/Tehran');\n$tStamp = mktime (17, 17, 17, 1, 2855, 1970);\nprint \"tStamp=\". date(\"l Y-m-d H:i:s T I\", $tStamp). \"\\n\";\n$strtotime_tstamp = strtotime(\"next Tuesday\", $tStamp);\nprint \"result=\".date(\"l Y-m-d H:i:s T I\", $strtotime_tstamp).\"\\n\";\nprint \"wanted=Tuesday            00:30:00\\n\\n\";\nprint \"TZ=Pacific/Tarawa - Is it OK for this to be Midday? Note: does\nnot appear to have a DST or timezone transition.\\n\";\ndate_default_timezone_set('Pacific/Tarawa');\n$tStamp = mktime (17, 17, 17, 1, 1, 1970);\nprint \"tStamp=\". date(\"l Y-m-d H:i:s T I\", $tStamp). \"\\n\";\n$strtotime_tstamp = strtotime(\"next Monday\", $tStamp);\nprint \"result=\".date(\"l Y-m-d H:i:s T I\", $strtotime_tstamp).\"\\n\";\nprint \"wanted=Monday            00:00:00\\n\\n\";\nprint \"TZ=Africa/Monrovia - Is it OK for this to be 00:44:30 AM? yes\\n\";\ndate_default_timezone_set('Africa/Monrovia');\n$tStamp = mktime (17, 17, 17, 1, 730, 1970);\nprint \"tStamp=\". date(\"l Y-m-d H:i:s T I\", $tStamp). \"\\n\";\n$strtotime_tstamp = strtotime(\"next Friday\", $tStamp);\nprint \"result=\".date(\"l Y-m-d H:i:s T I\", $strtotime_tstamp).\"\\n\";\nprint \"wanted=Friday            00:44:30\\n\\n\";\nprint \"TZ=Asia/Katmandu - Is it OK for this to 0:15 AM?. yes\\n\";\ndate_default_timezone_set('Asia/Katmandu');\n$tStamp = mktime (17, 17, 17, 1, 5838, 1970);\nprint \"tStamp=\". date(\"l Y-m-d H:i:s T I\", $tStamp). \"\\n\";\n$strtotime_tstamp = strtotime(\"next Wednesday\", $tStamp);\nprint \"result=\".date(\"l Y-m-d H:i:s T I\", $strtotime_tstamp).\"\\n\";\nprint \"wanted=Wednesday            00:15:00\\n\\n\";\nprint \"TZ=Pacific/Nauru - Is it OK for this to be 0:30? yes\\n\";\ndate_default_timezone_set('Pacific/Nauru');\n$tStamp = mktime (17, 17, 17, 2, 3, 1979);\nprint \"tStamp=\". date(\"l Y-m-d H:i:s T I\", $tStamp). \"\\n\";\n$strtotime_tstamp = strtotime(\"next Saturday +2 hours\", $tStamp);\nprint \"result=\".date(\"l Y-m-d H:i:s T I\", $strtotime_tstamp).\"\\n\";\nprint \"wanted=Saturday            02:30:00\\n\\n\";\nprint \"TZ=Pacific/Port_Moresby - Is it OK for this to be 10 AM? No DST\nor timezone transition.\\n\";\ndate_default_timezone_set('Pacific/Port_Moresby');\n$tStamp = mktime (17, 17, 17, 1, 1, 1970);\nprint \"tStamp=\". date(\"l Y-m-d H:i:s T I\", $tStamp). \"\\n\";\n$strtotime_tstamp = strtotime(\"next Thursday\", $tStamp);\nprint \"result=\".date(\"l Y-m-d H:i:s T I\", $strtotime_tstamp).\"\\n\";\nprint \"wanted=Thursday            00:00:00\\n\\n\";\nprint \"TZ=America/Miquelon - Is it OK for this to be 1 AM ? yes\\n\";\ndate_default_timezone_set('America/Miquelon');\n$tStamp = mktime (17, 17, 17, 1, 3767, 1970);\nprint \"tStamp=\". date(\"l Y-m-d H:i:s T I\", $tStamp). \"\\n\";\n$strtotime_tstamp = strtotime(\"next Thursday\", $tStamp);\nprint \"result=\".date(\"l Y-m-d H:i:s T I\", $strtotime_tstamp).\"\\n\";\nprint \"wanted=Thursday            01:00:00\\n\\n\";\nprint \"TZ=Pacific/Palau - Is it OK for this to be 9 AM? No DST or\ntimezone transition.\\n\";\ndate_default_timezone_set('Pacific/Palau');\n$tStamp = mktime (17, 17, 17, 1, 1, 1970);\nprint \"tStamp=\". date(\"l Y-m-d H:i:s T I\", $tStamp). \"\\n\";\n$strtotime_tstamp = strtotime(\"next Saturday\", $tStamp);\nprint \"result=\".date(\"l Y-m-d H:i:s T I\", $strtotime_tstamp).\"\\n\";\nprint \"wanted=Saturday            00:00:00\\n\\n\";\nprint \"TZ=Pacific/Funafuti - Is it OK for this to be midday?  Note: does\nnot appear to have a DST or timezone transition.\\n\";\ndate_default_timezone_set('Pacific/Funafuti');\n$tStamp = mktime (17, 17, 17, 1, 1, 1970);\nprint \"tStamp=\". date(\"l Y-m-d H:i:s T I\", $tStamp). \"\\n\";\n$strtotime_tstamp = strtotime(\"next Wednesday\", $tStamp);\nprint \"result=\".date(\"l Y-m-d H:i:s T I\", $strtotime_tstamp).\"\\n\";\nprint \"wanted=Wednesday            00:00:00\\n\\n\";\nprint \"TZ=Pacific/Wake - Is it OK for this to be midday?  Note: does not\nappear to have a DST or timezone transition.\\n\";\ndate_default_timezone_set('Pacific/Wake');\n$tStamp = mktime (17, 17, 17, 1, 1, 1970);\nprint \"tStamp=\". date(\"l Y-m-d H:i:s T I\", $tStamp). \"\\n\";\n$strtotime_tstamp = strtotime(\"next Tuesday\", $tStamp);\nprint \"result=\".date(\"l Y-m-d H:i:s T I\", $strtotime_tstamp).\"\\n\";\nprint \"wanted=Tuesday            00:00:00\\n\\n\";\nprint \"TZ=Pacific/Wallis - Is it OK for this to be midday?  Note: does\nnot appear to have a DST or timezone transition.\\n\";\ndate_default_timezone_set('Pacific/Wallis');\n$tStamp = mktime (17, 17, 17, 1, 1, 1970);\nprint \"tStamp=\". date(\"l Y-m-d H:i:s T I\", $tStamp). \"\\n\";\n$strtotime_tstamp = strtotime(\"next Tuesday\", $tStamp);\nprint \"result=\".date(\"l Y-m-d H:i:s T I\", $strtotime_tstamp).\"\\n\";\nprint \"wanted=Tuesday            00:00:00\\n\\n\";\nprint \"TZ=America/Paramaribo - Is it OK for this to be 0:30 AM? yes\\n\";\ndate_default_timezone_set('America/Paramaribo');\n$tStamp = mktime (17, 17, 17, 1, 5381, 1970);\nprint \"tStamp=\". date(\"l Y-m-d H:i:s T I\", $tStamp). \"\\n\";\n$strtotime_tstamp = strtotime(\"next Monday\", $tStamp);\nprint \"result=\".date(\"l Y-m-d H:i:s T I\", $strtotime_tstamp).\"\\n\";\nprint \"wanted=Monday            00:30:00\\n\\n\";\n?>")).toMatchSnapshot();
  });
});
