// eslint-disable prettier/prettier
const parser = require("../main");

describe("php-src tests", function () {
  // ext/standard/tests/strings/substr_replace.phpt
  it("substr_replace() function", function () {
    expect(parser.parseCode("<?php\n$str = \"try this\";\n$repl = \"bala \";\n$start = 2;\necho \"\\n\";\necho \"substr_replace('$str', '$repl', $start)\\n\";\nvar_dump(substr_replace($str, $repl, $start));\necho \"\\n\";\n$len = 3;\necho \"substr_replace('$str', '$repl', $start, $len)\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len));\necho \"\\n\";\n$len = 0;\necho \"substr_replace('$str', '$repl', $start, $len)\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len));\necho \"\\n\";\n$len = -2;\necho \"substr_replace('$str', '$repl', $start, $len)\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len));\necho \"\\n\";\necho \"\\n\";\necho \"\\n\";\n$str = \"try this\";\n$repl = array(\"bala \");\n$start = 4;\n$len = 3;\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\", \".var_export($start,1).\"\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start)).\"\\n\";\necho \"\\n\";\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\", \".var_export($start,1).\"\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len)).\"\\n\";\necho \"\\n\";\necho \"\\n\";\necho \"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\");\n$repl = array(\"bala \");\n$start = array(4);\n$len = array(3);\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\", \".var_export($start,1).\"\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start)).\"\\n\";\necho \"\\n\";\n$len = array(3);\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\", \".var_export($start,1).\", \".var_export($len,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len)).\"\\n\";\necho \"\\n\";\n$len = array(0);\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\", \".var_export($start,1).\", \".var_export($len,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len)).\"\\n\";\necho \"\\n\";\n$len = array(-2);\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\", \".var_export($start,1).\", \".var_export($len,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len)).\"\\n\";\necho \"\\n\";\necho \"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\");\n$repl = \"bala \";\n$start = 4;\n$len = 3;\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\",\".var_export($start,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start)).\"\\n\";\necho \"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\", \"try this\");\n$repl = array(\"bala \");\n$start = 4;\n$len = 3;\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\",\".var_export($start,1).\", \".var_export($len,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len)).\"\\n\";\necho \"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\", \"try this\");\n$repl = \"bala \";\n$start = 4;\n$len = 3;\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\",\".var_export($start,1).\", \".var_export($len,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len)).\"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\", \"try this\");\n$repl = array(\"bala \");\n$start = 4;\n$len = 0;\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\",\".var_export($start,1).\", \".var_export($len,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len)).\"\\n\";\necho \"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\", \"try this\");\n$repl = \"bala \";\n$start = 4;\n$len = 0;\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\",\".var_export($start,1).\", \".var_export($len,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len)).\"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\", \"try this\");\n$repl = array(\"bala \");\n$start = 4;\n$len = -2;\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\",\".var_export($start,1).\", \".var_export($len,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len)).\"\\n\";\necho \"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\", \"try this\");\n$repl = \"bala \";\n$start = 4;\n$len = -2;\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\",\".var_export($start,1).\", \".var_export($len,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len)).\"\\n\";\necho \"\\n\";\necho \"\\n\";\necho \"\\n\";\necho \"\\n\";\necho \"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\");\n$repl = \"bala \";\n$start = array(4);\n$len = 3;\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\",\".var_export($start,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start)).\"\\n\";\necho \"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\", \"try this\");\n$repl = array(\"bala \");\n$start = array(4);\n$len = 3;\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\",\".var_export($start,1).\", \".var_export($len,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len)).\"\\n\";\necho \"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\", \"try this\");\n$repl = \"bala \";\n$start = array(4);\n$len = 3;\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\",\".var_export($start,1).\", \".var_export($len,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len)).\"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\", \"try this\");\n$repl = array(\"bala \");\n$start = array(4);\n$len = 0;\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\",\".var_export($start,1).\", \".var_export($len,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len)).\"\\n\";\necho \"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\", \"try this\");\n$repl = \"bala \";\n$start = array(4);\n$len = 0;\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\",\".var_export($start,1).\", \".var_export($len,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len)).\"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\", \"try this\");\n$repl = array(\"bala \");\n$start = array(4);\n$len = -2;\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\",\".var_export($start,1).\", \".var_export($len,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len)).\"\\n\";\necho \"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\", \"try this\");\n$repl = \"bala \";\n$start = array(4);\n$len = -2;\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\",\".var_export($start,1).\", \".var_export($len,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len)).\"\\n\";\necho \"\\n\";\necho \"\\n\";\necho \"\\n\";\necho \"\\n\";\necho \"\\n\";\necho \"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\");\n$repl = \"bala \";\n$start = array(4,2);\n$len = 3;\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\",\".var_export($start,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start)).\"\\n\";\necho \"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\", \"try this\");\n$repl = array(\"bala \");\n$start = array(4,2);\n$len = 3;\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\",\".var_export($start,1).\", \".var_export($len,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len)).\"\\n\";\necho \"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\", \"try this\");\n$repl = \"bala \";\n$start = array(4,2);\n$len = 3;\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\",\".var_export($start,1).\", \".var_export($len,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len)).\"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\", \"try this\");\n$repl = array(\"bala \");\n$start = array(4,2);\n$len = 0;\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\",\".var_export($start,1).\", \".var_export($len,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len)).\"\\n\";\necho \"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\", \"try this\");\n$repl = \"bala \";\n$start = array(4,2);\n$len = 0;\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\",\".var_export($start,1).\", \".var_export($len,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len)).\"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\", \"try this\");\n$repl = array(\"bala \");\n$start = array(4,2);\n$len = -2;\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\",\".var_export($start,1).\", \".var_export($len,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len)).\"\\n\";\necho \"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\", \"try this\");\n$repl = \"bala \";\n$start = array(4,2);\n$len = -2;\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\",\".var_export($start,1).\", \".var_export($len,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len)).\"\\n\";\necho \"\\n\";\necho \"\\n\";\necho \"\\n\";\necho \"\\n\";\necho \"\\n\";\necho \"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\");\n$repl = \"bala \";\n$start = array(4,2);\n$len = array(3);\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\",\".var_export($start,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start)).\"\\n\";\necho \"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\", \"try this\");\n$repl = array(\"bala \");\n$start = array(4,2);\n$len = array(3);\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\",\".var_export($start,1).\", \".var_export($len,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len)).\"\\n\";\necho \"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\", \"try this\");\n$repl = \"bala \";\n$start = array(4,2);\n$len = array(3);\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\",\".var_export($start,1).\", \".var_export($len,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len)).\"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\", \"try this\");\n$repl = array(\"bala \");\n$start = array(4,2);\n$len = array(0);\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\",\".var_export($start,1).\", \".var_export($len,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len)).\"\\n\";\necho \"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\", \"try this\");\n$repl = \"bala \";\n$start = array(4,2);\n$len = array(0);\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\",\".var_export($start,1).\", \".var_export($len,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len)).\"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\", \"try this\");\n$repl = array(\"bala \");\n$start = array(4,2);\n$len = array(-2);\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\",\".var_export($start,1).\", \".var_export($len,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len)).\"\\n\";\necho \"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\", \"try this\");\n$repl = \"bala \";\n$start = array(4,2);\n$len = array(-2);\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\",\".var_export($start,1).\", \".var_export($len,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len)).\"\\n\";\necho \"\\n\";\necho \"\\n\";\necho \"\\n\";\necho \"\\n\";\necho \"\\n\";\necho \"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\");\n$repl = \"bala \";\n$start = array(4,2);\n$len = array(3,2);\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\",\".var_export($start,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start)).\"\\n\";\necho \"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\", \"try this\");\n$repl = array(\"bala \");\n$start = array(4,2);\n$len = array(3,2);\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\",\".var_export($start,1).\", \".var_export($len,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len)).\"\\n\";\necho \"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\", \"try this\");\n$repl = \"bala \";\n$start = array(4,2);\n$len = array(3,2);\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\",\".var_export($start,1).\", \".var_export($len,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len)).\"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\", \"try this\");\n$repl = array(\"bala \");\n$start = array(4,2);\n$len = array(0,0);\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\",\".var_export($start,1).\", \".var_export($len,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len)).\"\\n\";\necho \"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\", \"try this\");\n$repl = \"bala \";\n$start = array(4,2);\n$len = array(0,0);\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\",\".var_export($start,1).\", \".var_export($len,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len)).\"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\", \"try this\");\n$repl = array(\"bala \");\n$start = array(4,2);\n$len = array(-2,-3);\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\",\".var_export($start,1).\", \".var_export($len,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len)).\"\\n\";\necho \"\\n\";\necho \"\\n\";\n$str = array(\"ala portokala\", \"try this\");\n$repl = \"bala \";\n$start = array(4,2);\n$len = array(-2,-3);\necho str_replace(\"\\n\",\"\",\"substr_replace(\".var_export($str,1).\", \".var_export($repl,1).\",\".var_export($start,1).\", \".var_export($len,1).\")\").\"\\n\";\nvar_dump(substr_replace($str, $repl, $start, $len)).\"\\n\";\necho \"\\n\";\n?>")).toMatchSnapshot();
  });
});
