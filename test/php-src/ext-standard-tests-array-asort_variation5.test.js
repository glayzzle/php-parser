// eslint-disable prettier/prettier
const parser = require("../main");

describe("php-src tests", function () {
  // ext/standard/tests/array/asort_variation5.phpt
  it("Test asort() function : usage variations - sort strings", function () {
    expect(parser.parseCode("<?php\n/*\n * testing asort() by providing different string arrays for $array argument with following flag values\n *  flag value as default\n *  SORT_REGULAR - compare items normally\n *  SORT_STRING  - compare items as strings\n*/\necho \"*** Testing asort() : usage variations ***\\n\";\n$various_arrays = array (\n  // group of escape sequences\n  array (\"null\"=>  null, \"NULL\" => NULL, \"\\a\" => \"\\a\", \"\\cx\" => \"\\cx\", \"\\e\" => \"\\e\",\n        \"\\f\" => \"\\f\", \"\\n\" =>\"\\n\", \"\\r\" => \"\\r\", \"\\t\" => \"\\t\", \"\\xhh\" => \"\\xhh\",\n        \"\\ddd\" => \"\\ddd\", \"\\v\" => \"\\v\"\n        ),\n  // array contains combination of capital/small letters\n  array ('l' => \"lemoN\", 'O' => \"Orange\", 'b' => \"banana\", 'a' => \"apple\", 'Te' => \"Test\",\n        'T' => \"TTTT\", 't' => \"ttt\", 'w' => \"ww\", 'x' => \"x\", 'X' => \"X\", 'o' => \"oraNGe\",\n        'B' => \"BANANA\"\n        )\n);\n$flags = array(\"SORT_REGULAR\" => SORT_REGULAR, \"SORT_STRING\" => SORT_STRING);\n$count = 1;\necho \"\\n-- Testing asort() by supplying various string arrays --\\n\";\n// loop through to test asort() with different arrays\nforeach ($various_arrays as $array) {\n  echo \"\\n-- Iteration $count --\\n\";\n  echo \"- With default sort_flag -\\n\";\n  $temp_array = $array;\n  var_dump(asort($temp_array) ); // expecting : bool(true)\n  var_dump($temp_array);\n  // loop through $flags array and setting all possible flag values\n  foreach($flags as $key => $flag){\n    echo \"- Sort_flag = $key -\\n\";\n    $temp_array = $array;\n    var_dump(asort($temp_array, $flag) ); // expecting : bool(true)\n    var_dump($temp_array);\n  }\n  $count++;\n}\necho \"Done\\n\";\n?>")).toMatchSnapshot();
  });
});
