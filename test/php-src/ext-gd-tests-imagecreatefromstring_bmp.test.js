// eslint-disable prettier/prettier
const parser = require("../main");

describe("php-src tests", function () {
  // ext/gd/tests/imagecreatefromstring_bmp.phpt
  it("imagecreatefromstring() - BMP format", function () {
    expect(parser.parseCode("<?php\n// create an image from a BMP string representation\n$bmp = \"\\x42\\x4D\\x3E\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x3E\\x00\\x00\\x00\\x28\\x00\"\n     . \"\\x00\\x00\\x0A\\x00\\x00\\x00\\x0A\\x00\\x00\\x00\\x01\\x00\\x08\\x00\\x01\\x00\"\n     . \"\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x02\\x00\"\n     . \"\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\xFF\\xFF\\xFF\\x00\\x0A\\x00\"\n     . \"\\x00\\x00\\x0A\\x00\\x00\\x00\\x07\\x00\\x01\\x01\\x01\\x00\\x00\\x00\\x06\\x00\"\n     . \"\\x01\\x01\\x01\\x00\\x02\\x00\\x00\\x00\\x05\\x00\\x01\\x01\\x01\\x00\\x03\\x00\"\n     . \"\\x00\\x00\\x04\\x00\\x01\\x01\\x01\\x00\\x04\\x00\\x00\\x00\\x03\\x00\\x01\\x01\"\n     . \"\\x01\\x00\\x05\\x00\\x00\\x00\\x02\\x00\\x01\\x01\\x01\\x00\\x06\\x00\\x00\\x00\"\n     . \"\\x0A\\x00\\x00\\x00\\x0A\\x00\\x00\\x00\\x00\\x01\";\n$im = imagecreatefromstring($bmp);\ninclude_once __DIR__ . '/func.inc';\ntest_image_equals_file(__DIR__ . '/imagecreatefromstring_bmp.png', $im);\n?>")).toMatchSnapshot();
  });
});
